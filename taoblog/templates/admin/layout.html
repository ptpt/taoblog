{% extends "layout.html" %}

{% block head %}
        <title>{{ 'Admin' }}</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block body %}
        <div id="flash">
            {% for category, msg in get_flashed_messages(with_categories=true) -%}
            <p class="{{ category }}">{{ msg }}</p>
            {%- endfor %}
        </div>
        <div id="topbar">
            <div id="home" class="left-column"><a class="white-link" href="{{ url_for('post.render_posts') }}">Home</a></div>
            <menu id="toolbar" class="right-column">
                {% block menus %}
                {% endblock %}
            </menu>
        </div>
        <div id="wrapper">
            <nav id="sidebar" class="left-column">
                <menu>
                    <li><a href="{{ url_for('admin.render_posts') }}">Posts</a></li>
                    <li><a href="{{ url_for('admin.render_drafts') }}">Drafts</a></li>
                    <li class="cut-off"><a href="{{ url_for('admin.render_posts', status='trash') }}">{{ 'Trash' }}</a></li>
                </menu>
            </nav>

            <section id="main" class="right-column">
                {% block main %}
                {% endblock %}
            </section>
        </div>

        {% if config['DEBUG'] %}
        <script src="{{ url_for('static', filename='js/seajs/2.0.0/sea-debug.js')}}"></script>
        {% else %}
        <script src="{{ url_for('static', filename='js/seajs/2.0.0/sea.js')}}"></script>
        {% endif %}
        <script>
            {% if config['DEBUG'] %}
            seajs.config({
                plugins: ['shim'],
                alias:{
                    $: 'jquery/jquery/1.8.0/jquery-debug.js',
                    Uri: 'gallery/jsuri/1.2.2/jsuri-debug.js',
                    moment: 'gallery/moment/2.0.0/moment-debug.js',
                    ace: {src: 'gallery/ace/src-noconflict/ace.js',
                          exports: 'ace'}
                }
            });
            {% else %}
            seajs.config({
                plugins: ['shim'],
                alias:{
                    $: 'jquery/jquery/1.8.0/jquery.js',
                    Uri: 'gallery/jsuri/1.2.2/jsuri.js',
                    moment: 'gallery/moment/2.0.0/moment.js',
                    ace: {src: 'gallery/ace/src-min-noconflict/ace.js',
                          exports: 'ace'}
                }
            });
            {% endif %}
            {% block script %}
            {% endblock %}
        </script>
{% endblock %}
